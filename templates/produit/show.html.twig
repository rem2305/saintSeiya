{% extends 'base.html.twig' %}

{% block title %}{{ produit.title }}{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}

{% block body %}


<h1 class="text-center">{{ produit.title }}</h1>


<div class="justify-content-center text-center mb-5 py-5 row">

	<div class="container col-4">
		<div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
			<div class="carousel-inner">
				{% for image in produit.images %}
					<div class="carousel-item {% if loop.index0 == 0 %} active {% endif %}">
						<img src="{{asset('/imagesProduit/' ~ image.name )}}" class="d-block w-100">
					</div>
				{% endfor %}
				<div class="carousel-caption d-none d-md-block">
					<h5>{{ produit.title }}</h5>
				</div>
			</div>
			<a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="sr-only">Prédécent</span>
			</a>
			<a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="sr-only">Suivant</span>
			</a>
		</div>
	</div>

	<div class="col-8 d-flex justify-content-start">

		<div>
			<p class="mt-3">{{produit.prix}}</p>
			<p class="mt-3">{{produit.vendeur1}}</p>
			<p class="mt-3">{{produit.vendeur2}}</p>

		<div class="text-danger">
			{% if is_granted("ROLE_USER") %}
				{% for favoris in produit.favoris %}
					{% if favoris.id == app.user.id %}
						<a href="{{ path('retrait_favoris', {id: produit.id}) }}">
							<i class="fas fa-heart text-danger"></i>
						</a>
					{% else %}
						<a href="{{ path('ajout_favoris', {id: produit.id}) }}">
							<i class="far fa-heart text-danger"></i>
						</a>
					{% endif %}
				{% else %}
					<a href="{{ path('ajout_favoris', {id: produit.id}) }}">
						<i class="far fa-heart text-danger"></i>
					</a>
				{% endfor %}
			{% else %}
				<i class="far fa-heart text-danger"></i>
			{% endif %}
			
		</div>
		</div>

	</div>

			<div>
				<p class="mt-3">{{produit.introduction}}</p>
				<h2>
					{{produit.titreSecondaire}}
				</h2>
				<p>{{produit.content}}</p>
				<h3>
					{{produit.TitreConclusion}}
				</h3>
				<p>{{produit.Conclusion}}</p>
				<h6 class="text-muted">
					{{produit.dateDeCreation | date("d/m/Y \à H\\hi")}}
					-
					{{produit.user.pseudo}}
					-
					{{produit.categorieProduit}}</h6>
			</div>

	
{% endblock %}


{% block javascript %}
{# <script>
const carousel = new bootstrap.Carousel('#myCarousel');


</script> #}
{% endblock %}
